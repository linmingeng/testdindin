<!DOCTYPE html>
<!-- saved from url=(0034)http://www.dindin.com/register.jsp -->
<html dir="ltr" lang="en"><!--<![endif]-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=GBK">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>注册新用户</title>
<!--<base href="http://velikorodnov.com/opencart/shopme/demo6/">--><!--<base href=".">--><base href=".">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<link href="http://www.dindin.com/dindinv2Images/favicon.ico" rel="icon">
<link rel="icon" href="http://www.dindin.com/dindinv2Images/favicon.ico" type="image/x-icon">
<!-- Version 2.0.3 -->
<!-- <script id="facebook-jssdk" src="http://connect.facebook.net/sv_SE/sdk.js#xfbml=1&version=v2.3&appId=109031762530738"></script> -->
<script type="text/javascript" async="" src="http://static.mediav.com/mvl.js"></script><script src="./js/jquery-2.1.1.min.js" type="text/javascript"></script>
<link href="./css/bootstrap.min.css" rel="stylesheet" media="screen">
<script src="./js/bootstrap.min.js" type="text/javascript"></script>
<link rel="stylesheet" type="text/css" href="./css/stylesheet.css">
<link href="./css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="./css/responsive.css">
<!-- Custom css -->
<!-- Custom script -->

<!-- Custom styling -->
<!-- Custom fonts -->
<!-- <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Roboto:300,400,700,900" media="screen"> -->
<style>
.branch-card-title{border: 1px solid #B4D8F8;padding: 10px;background: #fff;cursor:pointer;color: #777777;position:relative;}
.icon-sanjiao{position:absolute;top:5px;right:10px;width:15px;height:15px;border:1px solid #B4D8F8;background:#fff;transform:rotate(43deg);
-moz-transform:rotate(43deg);-webkit-transform:rotate(43deg);-ms-transform:rotate(43deg);-o-transform:rotate(43deg);border-top: none;border-left: none;}
.icon-sanjiao.up{top:15px;border-bottom: none;border-right: none;border-top:1px solid #B4D8F8;border-left:1px solid #B4D8F8;}
</style>
</head>
<body class="account-register style-4 ">
<script type="text/javascript">
var _mvq = _mvq || [];
_mvq.push(['$setAccount', 'm-199926-0']);

_mvq.push(['$logConversion']);
(function() {
var mvl = document.createElement('script');
mvl.type = 'text/javascript'; mvl.async = true;
mvl.src = ('https:' == document.location.protocol ? 'https://static-ssl.mediav.com/mvl.js' : 'http://static.mediav.com/mvl.js');
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(mvl, s);
})();

	
</script>
<!-- Cookie Control -->

<!-- Old IE Control -->
<div class="outer_container">
<!-- header 部分 -->

<div id="notification" class="container"></div>
<div class="container">
  
    <div class="row">
  
  
    
 <div id="content" class="col-md-12 col-sm-12">

<style>
a [class*="dsl-icon-"],
[class*="dsl-icon-"],
[class*="dsl-icon-"]:before{
  margin:0px !important;
  background-image:none !important;
}

#submitMobileForm {
  width: 100%;
  max-width: 215px;
  height: 41px;
  background: #28ACFD;
  border-radius: 0;
}

.dsl-label {
  display: none;
  vertical-align: middle;
}
.dsl-label-icons{
  display: inline-block;
}
.dsl-hide-icon{
  opacity: 0
}
.errorRed{border:1px solid rgb(243, 170, 170);}
#regform input{max-width:535px;}
.radio-list{padding-top:7px;}
.radio-list input{vertical-align: bottom;}
.services .ser-img, .services .ser-text {
float: left;
}
.services .ser-item{width:140px;float:left;}
.services .ser-item:nth-child(3){width:108px;}
.services .ser-item .ser-img{margin-right:3px;}
.services .ser-text small{color:#676767;}
.register-title h3{padding:0;}
.register-title a{text-decoration: underline;}
/*
动态是使用#regform .code{width:61%;float:left;margin-right:3%;}
下面两行删除
*/
#regform .code{width:61%;float:left;margin-right:3%;}
#regform .phone-input .code{width:61%;float:left;margin-right:3%;}

#regform .form-group{height:65px;margin-bottom:0;position:relative;}
#regform .form-group a{color:#0f78b9;}
#regform .form-group .error-message{position:absolute;left:0;top:48px;border:1px solid rgb(226, 139, 55);border-radius:4px;color:#777777;margin-top: 3px;font-size: 13px;
padding:4px;z-index:99;background:#fff;display:none;opacity:0;transition:all 1s;-webkit-transition:all 1s;-moz-transition:all 1s;-o-transition:all 1s;}

#regform .form-group input{border-radius:0;background-color:#F6FCFF;border:1px solid #8dd3f9;}
#submitForm {width:100%;max-width: 215px;height: 41px;background: #28ACFD;border-radius: 0;}
#regform .form-group .error-message i{position:absolute;left:10px;top:-3px;width:5px;height:5px;border:1px solid rgb(226, 139, 55);background:#fff;transform:rotate(45deg);
border-bottom:none;border-right:none;}
#regform .form-group .pwd-grade{margin-top: 5px;font-size: 13px;color: #666;}
#regform .form-group .pwd-grade .grade{display:none;width:25px;height:8px;margin-right:5px;background:#aaaaaa;color:#809a2d;}
#regform .form-group .pwd-grade .grade-text{display:none;}
.form-item .lefts img{width:100%;max-width:446px;}
.form-item .rights{width:100%;max-width:350px;}
.phone-input{display:block;}
.phone-input .button-code{padding: 8px 23px 9px;}
.phone-input .button-code.disable{background:#ccc;cursor:no-drop;}
.button-code.disable{background:#ccc;cursor:no-drop;}
 .button-code.able{background:#72AF49;cursor:pointer;color:#fff;}
 #regform .form-group .code-img{width:68%;}
 #moblieBtn {color:#fff!important;}
@media screen and (max-width:991px){
	.form-item .rights{padding-top:0;}
}
@media screen and (max-width:767px){
	.form-item{padding-right:15px;}
	 #regform .form-group .code-img{width:61%;}
}
@media screen and (max-width:615px){
	.form-item{padding-left:5px;}
	.form-item .lefts{display:none;}
	.form-item .rights{float: none!important;margin: 0 auto;}
}
@media screen and (max-width:414px){
	#regform .code{width:61%;}
	#regform .phone-code{width:35%;float:left;}
	
}
@media screen and (max-width:374px){
	#regform .code{margin-right:3%;}
	.phone-input .button-code{padding: 8px 11px 9px;}
}
@media screen and (max-width:320px){
	#regform .code,#regform .phone-input .code{width:48%;}
}
</style>

<script>
$( document ).ready(function() {
// Move module to content //
	$('#content #d_social_login').appendTo($('#social_login_content_holder'));
			
  $('.dsl-button').on('click', function(){
    $('.dsl-button').find('.l-side').spin(false);
    $(this).find('.l-side').spin('icons', '#ffffff');
    
    $('.dsl-button').find('.dsl-icon').removeClass('dsl-hide-icon');
    $(this).find('.dsl-icon').addClass('dsl-hide-icon');
  })
  var email = "";
  if(email!=null && email!=""){
  	$("#usrNumber").val(decode(email));
  }
  
  $('#imgVerify').click(function(){
		$('#imgVerify').attr('src','./other/createParityImage.jsp?'+Math.random());
	})
})
</script>
     <div class="row">
     	<div class="col-md-4 col-sm-4"><a href="http://www.dindin.com/"><img src="./image/dindin_logo1.png"></a></div>
     	<div class="pull-right servic mobile_hide" style="padding-top: 30px;">
     		<div class="row services">
				<div class="ser-item">
					<div class="ser-cont">
						<a href="insurance.html">
							<div class="ser-img"><img src="./image/zpbz.png" width="30"></div>
							<div class="ser-text">
								<div><strong>正品保障</strong></div>
								<div><small>海外原产地采购</small></div>
							</div>
						</a>
					</div>
				</div>
				<div class="ser-item">
					<div class="ser-cont">
						<a href="insurance.html">
							<div class="ser-img"><img src="./image/hgjg.png" width="30"></div>
							<div class="ser-text">
								<div><strong>海关监管</strong></div>
								<div><small>全程海关监管查验</small></div>
							</div>
						</a>
					</div>
				</div>
				<div class="ser-item">
					<div class="ser-cont">
						<a href="insurance.html">
							<div class="ser-img"><img src="./image/wlps.png" width="30"></div>
							<div class="ser-text">
								<div><strong>物流派送</strong></div>
								<div><small>7-15天送达</small></div>
							</div>
						</a>
					</div>
				</div>
				<div class="ser-item">
					<div class="ser-cont">
						<a href="insurance.html">
							<div class="ser-img"><img src="./image/zjaq.png" width="30"></div>
							<div class="ser-text">
								<div><strong>资金安全</strong></div>
								<div><small>专业第三方支付</small></div>
							</div>
						</a>
					</div>
				</div>
			</div>
     	</div>
     </div>
     <!--  <p class="margin-b">如果您已经有帐户，请点击登录 <a href="http://velikorodnov.com/opencart/shopme/demo6/index.php?route=account/login">login page</a>.</p> -->
      <div class="row form-item" style="padding-top: 50px;">
	      <div class="col-md-7 col-lg-7 col-sm-6 col-xs-5 lefts" style="text-align: center;">
	      		<a target="_blank" href="http://www.dindin.com/goodsDetail_id_14743.htm"><img src="./image/register-img.jpg"></a>
	      </div>
	      <div class="col-md-4 col-lg-4 col-sm-5 col-xs-7 pull-right1 rights">
	      	  <div class="row register-title"><h3 class="col-md-4 col-lg-4 col-sm-4 col-xs-4">欢迎注册</h3><div class="pull-right">我已经注册？<a href="login.html" style="color:#809a2d">直接登录</a></div></div>
		      <form id="regform" method="post" class="form-horizontal">
		      	<input type="hidden" id="regType" value="QQ">
		      	<input type="hidden" name="random" id="random" value="null">
				<input type="hidden" name="userId" id="userId" value="null">
				<div class="form-inputs" style="display: none;">
			        <div class="form-group">
			        	<input type="text" name="usrNumber" id="usrNumber" placeholder="电子邮箱" class="form-control " maxlength="25">
			        	<div class="error-message msg1"><span>邮箱不能为空！</span><i></i></div>
			        	<div class="error-message msg2"><span></span><i></i></div>
			        </div>
			        <div class="form-group">
			        	<input type="password" name="usrPwd" id="usrPwd" value="" placeholder="请输入6-16位长度的密码" class="form-control" maxlength="16">
			        	<div class="error-message"><span>密码号不能为空！</span><i></i></div>
			        	<div class="pwd-grade pwd-grade1">
			        		<span class="grade weak"></span>
			        		<span class="grade medium"></span>
			        		<span class="grade strong"></span>
			        		<span class="grade-text grade-weak">弱</span>
			        		<span class="grade-text grade-medium">中</span>
			        		<span class="grade-text grade-strong">强</span>
			        	</div>
			        </div>
			        <div class="form-group">
			        	<input type="password" name="passwordconfirm" id="passwordconfirm" value="" placeholder="再次输入密码" class="form-control" maxlength="16">
			        	<div class="error-message"><span>确认密码号不能为空！</span><i></i></div>
			        </div> 
			        <div class="form-group">
			        	<div class="code"><input type="text" onkeyup="value=value.replace(/[\Wa-zA-z]/g,&#39;&#39;) " onbeforepaste="clipboardData.setData(&#39;text&#39;,clipboardData.getData(&#39;text&#39;).replace(/[\Wa-zA-z]/g,&#39;&#39;))" name="parityString" id="parityString" maxlength="6" placeholder="请输入动态验证码" class="form-control"><div class="error-message"><span>验证码不能为空！</span><i></i></div></div>
			        	<div><a class="btn button-code able" id="emailBtn" style="width: 126px;height: 37px;font-size:14px;">获取验证码</a></div>
			        </div> 
			        <div class="form-group">
			        	<div class="col-md-8 col-lg-8 col-sm-8 col-xs-7" style="padding: 0;"><button class="btn btn-primary" type="button" id="submitForm">立即注册</button></div>
			        	<div class="col-xs-4 col-md-4 col-lg-4 col-sm-4" style="text-align:right;padding:0;line-height: 56px;">
			        		<div><a onclick="$(&#39;.form-inputs&#39;).hide();$(&#39;.phone-input&#39;).show();$(&#39;#regType&#39;).val(&#39;Mobile&#39;);">手机快速注册 &gt;&gt;</a></div>
			        	</div>
			        </div>
		        </div>
		        <div class="form-inputs phone-input">
			        <div class="form-group">
			        	<input type="text" onkeyup="value=value.replace(/[\Wa-zA-z]/g,&#39;&#39;) " onbeforepaste="clipboardData.setData(&#39;text&#39;,clipboardData.getData(&#39;text&#39;).replace(/[\Wa-zA-z]/g,&#39;&#39;))" id="phone-number" placeholder="手机号" class="form-control " maxlength="11" style="background-color: rgb(252, 229, 229); border: 1px solid rgb(253, 173, 173);">
			        	<div class="error-message" style="top: 38px; opacity: 1; display: none;"><span>手机号不能为空！</span><i></i></div>
			        </div>
			        <div class="form-group">
			        	<input type="password" id="phone-usrPwd" value="" placeholder="请输入6-16位长度的密码" class="form-control" maxlength="16">
			        	<div class="error-message"><span>密码长度至少6位，最高16位！</span><i></i></div>
			        	<div class="pwd-grade pwd-grade2">
			        		<span class="grade weak"></span>
			        		<span class="grade medium"></span>
			        		<span class="grade strong"></span>
			        		<span class="grade-text grade-weak">弱</span>
			        		<span class="grade-text grade-medium">中</span>
			        		<span class="grade-text grade-strong">强</span>
			        	</div>
			        </div>
			        <div class="form-group">
			        	<input type="password" id="phone-passwordconfirm" value="" placeholder="再次输入密码" class="form-control" maxlength="16">
			        	<div class="error-message"><span>确认密码号不能为空！</span><i></i></div>
			        </div> 
			        <div class="form-group">
			        	<div class="code code-img"><input type="text" onbeforepaste="clipboardData.setData(&#39;text&#39;,clipboardData.getData(&#39;text&#39;).replace(/[\Wa-zA-z]/g,&#39;&#39;))" name="parityString1" id="parityStringIphone" maxlength="4" placeholder="请输入验证码" class="form-control"><div class="error-message"><span>验证码不能为空！</span><i></i></div></div>
			        	<div style="float:right;"><img id="imgVerify" src="./image/createParityImage.jsp" style="width: 88px;vertical-align: top;cursor:pointer;" alt="" title="看不清？看一张"></div>
			        </div> 
			       <div class="form-group">
			        	<div class="code"><input type="text" id="phoneCode" onkeyup="value=value.replace(/[\Wa-zA-z]/g,&#39;&#39;) " onbeforepaste="clipboardData.setData(&#39;text&#39;,clipboardData.getData(&#39;text&#39;).replace(/[\Wa-zA-z]/g,&#39;&#39;))" maxlength="6" placeholder="请输入动态验证码" class="form-control"><div class="error-message"><span>验证码不能为空！</span><i></i></div></div>
			        	
			        	<div class="phone-code"><a onclick="sendCode()" class="btn button-code able" id="moblieBtn" style="width: 126px;height: 37px;font-size:14px;">获取验证码</a></div>
			        </div> 
		        	
		        <!--
		        <div class="form-group">
			        	<div class="code"><input type="text" onkeyup="value=value.replace(/[\W]/g,'') " onbeforepaste="clipboardData.setData('text',clipboardData.getData('text').replace(/[\W]/g,''))" name="phoneCode" id="phoneCode" maxlength="4" id="authcode" placeholder="请输入验证码" class="form-control"/><div class="error-message"><span>验证码不能为空！</span><i></i></div></div>
			        	<div><a  title="看不清?换一张" onclick="$('#imgPhoneParity').attr('src','createParityImageByRegister.jsp?t='+(new Date().getTime()));return false;"><img id="imgPhoneParity" src="./createParityImageByRegister.jsp" width="88" style="cursor: pointer;"/></a></div>
			        </div>
		        --><div class="form-group">
		        	<div class="col-md-8 col-lg-8 col-sm-8 col-xs-7" style="padding: 0;"><button class="btn btn-primary" type="button" id="submitMobileForm">立即注册</button></div>
		        	<div class="col-xs-4 col-md-4 col-lg-4 col-sm-4" style="text-align:right;padding:0;line-height: 56px;">
		        		<div><a onclick="$(&#39;.form-inputs&#39;).show();$(&#39;.phone-input&#39;).hide();$(&#39;#regType&#39;).val(&#39;QQ&#39;);">通过邮箱注册 &gt;&gt;</a></div>

		        	</div>
		        </div>
		        </div>
		        <style>
		        @media screen and (max-width:420px){
		        	.phone{
		        		width:40%;
		        		float:right;
		        	}
		        }
		        </style>
		        </form>
		        <div class="form-group" style="display: block;"><input type="checkbox" checked=""> 我已阅读并接受<a href="http://www.dindin.com/service_terms.jsp" style="color:#f1001c;"> 叮叮网服务条款</a></div>
		  </div>
      </div>
      </div>
    </div>
</div> 
<div class="footer" style="border-top: 1px solid #ccc;margin-top: 50px;padding-top: 20px;">
<div class="container text-center"> 

     <div id="footer_payment_icon">
        <!--<a href="http://si.trustutn.org/info?sn=975150608014227389852"><img src="https://apply.trustutn.org/images/cert/bottom_large_img.png" width="114" alt=""></a>
        --><a href="https://cert.ebs.gov.cn/1d977c68-da31-4817-9e2b-082cad56a9be"><img src="./image/bluelogo1.gif" alt="" width="134"></a>
        <a href="https://credit.szfw.org/CX20151013011602820168.html"><img src="./image/footer_img_3.jpg" width="114"></a>
        <a href="http://www.ectrust.cn/seal/splash/2000007.htm"><img src="./image/bluelogo.jpg" alt="" width="134"></a>
        <a href="http://www.dindin.com/show_page12.jsp"><img src="./image/xfzzycn.jpg" alt="" width="114"></a>
     </div>
    
   <div id="powered" style="line-height: 24px;"><div>叮叮网版权所有&#169; 2007-2018年 </div><div>工信部备案号: <a href="http://www.miitbeian.gov.cn/">闽ICP备17003323号-1</a></div></div>
   </div>
</div>
<script type="text/javascript">
//$('#regform .form-inputs input').css({'background-color':'#fff','border':'1px solid #777777'}).next().css({'top':'38px','opacity':'1','display':'none'})
/*$('#regform .form-inputs input').focus(function(){
	$(this).next().css({'top':'38px','opacity':'1','display':'block'});
	$(this).css({'background-color':'#fff','border':'1px solid #777777'});
	
}).blur(function(ev){
	$(this).next().css({'opacity':'0','display':'none','top':'48px'});
	$(this).css({'background-color':'#F6FCFF','border':'1px solid #8dd3f9'});
	
})*/
//输入密码事件 
$('#regform #usrPwd,#regform #phone-usrPwd').keyup(function(event){
	var tar = event.target;
		$(tar).next().hide();
		var tag = 1; //1表示邮箱注册
		if($(tar).attr('id')=='usrPwd'){
			$('.pwd-grade1 .grade').css('display','inline-block');
		}else{
			$('.pwd-grade2 .grade').css('display','inline-block');
			tag = 2;//2表示手机注册
		}
		
		var num = /^\d+$/; //全数字
		var chars = /^[A-Za-z]+$/; //全字符
		var text = $(tar).val();
		if(text.length<6){ //弱
			weak(tag);
		}else if(text.length<8){
			//if(num.exec(text) || chars.exec(text)){ //弱
				//weak();
			//}else{ //中
				medium(tag);
			//}
		}else if(text.length>=8){
			//if(!num.test(text) && !chars.test(text)){ //强
				
				strong(tag);
			//}else{ //
				//weak();
			//}
		}
		
		
})
function weak(num){
	$('.pwd-grade.pwd-grade'+num+' .grade.medium').css('background','#aaaaaa');
	$('.pwd-grade'+num+' .grade').css('background','#aaaaaa');
	$('.pwd-grade'+num+' .grade.weak').css('background','rgb(128, 192, 79)');
	$('.pwd-grade'+num+' .grade-text').hide();
	$('.pwd-grade'+num+' .grade-text.grade-weak').css('display','inline-block');
}
function medium(num){
	$('.pwd-grade'+num+' .grade.strong').css('background','#aaaaaa');
	$('.pwd-grade'+num+' .grade.medium').css('background','rgb(128, 192, 79)');
	$('.pwd-grade'+num+' .grade-text').hide();
	$('.pwd-grade'+num+' .grade-text.grade-medium').css('display','inline-block');
}
function strong(num){
	$('.pwd-grade'+num+' .grade').css('background','rgb(128, 192, 79)');
	$('.pwd-grade'+num+' .grade-text').hide();
	$('.pwd-grade'+num+' .grade-text.grade-strong').css('display','inline-block');
}
$('.branch-card-title').click(function(){
	$(this).find('div').toggleClass('up');
	$('.branch-card').slideToggle();
})
// Sort the custom fields
$('#account .form-group[data-sort]').detach().each(function() {
	if ($(this).attr('data-sort') >= 0 && $(this).attr('data-sort') <= $('#account .form-group').length) {
		$('#account .form-group').eq($(this).attr('data-sort')).before(this);
	} 
	
	if ($(this).attr('data-sort') > $('#account .form-group').length) {
		$('#account .form-group:last').after(this);
	}
		
	if ($(this).attr('data-sort') < -$('#account .form-group').length) {
		$('#account .form-group:first').before(this);
	}
});

$('#address .form-group[data-sort]').detach().each(function() {
	if ($(this).attr('data-sort') >= 0 && $(this).attr('data-sort') <= $('#address .form-group').length) {
		$('#address .form-group').eq($(this).attr('data-sort')).before(this);
	} 
	
	if ($(this).attr('data-sort') > $('#address .form-group').length) {
		$('#address .form-group:last').after(this);
	}
		
	if ($(this).attr('data-sort') < -$('#address .form-group').length) {
		$('#address .form-group:first').before(this);
	}
});

$('input[name=\'customer_group_id\']').on('change', function() {
	$.ajax({
		url: 'index.php?route=account/register/customfield&customer_group_id=' + this.value,
		dataType: 'json',
		success: function(json) {
			$('.custom-field').hide();
			$('.custom-field').removeClass('required');

			for (i = 0; i < json.length; i++) {
				custom_field = json[i];

				$('#custom-field' + custom_field['custom_field_id']).show();

				if (custom_field['required']) {
					$('#custom-field' + custom_field['custom_field_id']).addClass('required');
				}
			}
			

		},
		error: function(xhr, ajaxOptions, thrownError) {
			//alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
		}
	});
});

$('input[name=\'customer_group_id\']:checked').trigger('change');
//--></script> 
<script type="text/javascript"><!--
$('button[id^=\'button-custom-field\']').on('click', function() {
	var node = this;

	$('#form-upload').remove();

	$('body').prepend('<form enctype="multipart/form-data" id="form-upload" style="display: none;"><input type="file" name="file" /></form>');

	$('#form-upload input[name=\'file\']').trigger('click');

	if (typeof timer != 'undefined') {
    	clearInterval(timer);
	}
	
	timer = setInterval(function() {
		if ($('#form-upload input[name=\'file\']').val() != '') {
			clearInterval(timer);
			
			$.ajax({
				url: 'index.php?route=tool/upload',
				type: 'post',
				dataType: 'json',
				data: new FormData($('#form-upload')[0]),
				cache: false,
				contentType: false,
				processData: false,
				beforeSend: function() {
					$(node).button('loading');
				},
				complete: function() {
					$(node).button('reset');
				},
				success: function(json) {
					$(node).parent().find('.text-danger').remove();
					
					if (json['error']) {
						$(node).parent().find('input').after('<div class="text-danger">' + json['error'] + '</div>');
					}
	
					if (json['success']) {
						alert(json['success']);

						$(node).parent().find('input').attr('value', json['code']);
					}
				},
				error: function(xhr, ajaxOptions, thrownError) {
					alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
				}
			});
		}
	}, 500);
});
//--></script> 

<script type="text/javascript"><!--
$('select[name=\'country_id\']').on('change', function() {
	$.ajax({
		url: 'index.php?route=account/account/country&country_id=' + this.value,
		dataType: 'json',
		beforeSend: function() {
			$('select[name=\'country_id\']').after(' <i class="fa fa-circle-o-notch fa-spin"></i>');
		},
		complete: function() {
			$('.fa-spin').remove();
		},
		success: function(json) {
			if (json['postcode_required'] == '1') {
				$('input[name=\'postcode\']').parent().parent().addClass('required');
			} else {
				$('input[name=\'postcode\']').parent().parent().removeClass('required');
			}
			
			html = '<option value=""> --- Please Select --- </option>';
			
			if (json['zone'] && json['zone'] != '') {
				for (i = 0; i < json['zone'].length; i++) {
					html += '<option value="' + json['zone'][i]['zone_id'] + '"';
					
					if (json['zone'][i]['zone_id'] == '689') {
						html += ' selected="selected"';
					}
				
					html += '>' + json['zone'][i]['name'] + '</option>';
				}
			} else {
				html += '<option value="0" selected="selected"> --- None --- </option>';
			}
			
			$('select[name=\'zone_id\']').html(html);
		},
		error: function(xhr, ajaxOptions, thrownError) {
			alert(thrownError + "\r\n" + xhr.statusText + "\r\n" + xhr.responseText);
		}
	});
});

$('select[name=\'country_id\']').trigger('change');
//--></script>


<div class="clearfix footer_margin"></div>

<?php include './views/foot.php'; ?>
<!-- footer 部分 -->

</div>  <!-- .outer_container ends -->
<!-- Resources dont needed until page load -->
<script type="text/javascript" src="./js/jquery.cookie.js"></script>

<script>
function doquick_search( ev, keywords ) {
	if( ev.keyCode == 38 || ev.keyCode == 40 ) {
		return false;
	}	
	$('#ajax_search_results').remove();
	 updown = -1;
	if( keywords == '' || keywords.length < 1 ) {
		return false;
	}
	keywords = encodeURI(keywords);
	$.ajax({url: $('base').attr('href') + 'index.php?route=module/d_ajax_search/ajaxsearch&keyword=' + keywords, dataType: 'json', success: function(result) {
            console.log(result);
		if( result.length > 0 ) {
			var html, i;
			html = '<div id="ajax_search_results"><div id="ajax_search_results_body">';
			for(i=0;i<result.length;i++) {
				html += '<div class="live_row"><div class="live_image">';
				
				if(result[i].thumb){
					html += '<a href="' + result[i].href + '"><img src="' + result[i].thumb + '" /></a>';
				}
				
				html += '</div>';
				html += '<div class="live_name"><a href="' + result[i].href + '"><span class="name">' + result[i].name + '</span></a>';
				html += '</div>';
				
				html += '<div class="live_price">';
				
				if(result[i].special.length > 0){
					html += '<a href="' + result[i].href + '"><p class="old-price">' + result[i].price + '</p>';
					html += '<p class="special price">' + result[i].special + '</p></a>';
				} else {
					if(result[i].price.length > 0){
						html += '<a href="' + result[i].href + '"><p class="price">' + result[i].price + '</p></a>';	
					}else{
						
					}
				}
				html += '</div></div>';
			}
			html += '</div></div>';
			if( $('#ajax_search_results').length > 0 ) {
				$('#ajax_search_results').remove();
			}
			$('#search').append(html);
		}
	}});
	return true;
}

function upDownEvent( ev ) {
	var elem = document.getElementById('ajax_search_results_body');
	var fkey = $('#search').find('[name=search]').first();
	if( elem ) {
		var length = elem.childNodes.length - 1;
		if( updown != -1 && typeof(elem.childNodes[updown]) != 'undefined' ) {
			$(elem.childNodes[updown]).removeClass('selected');
		}
		if( ev.keyCode == 38 ) {
			updown = ( updown > 0 ) ? --updown : updown;	
		}
		else if( ev.keyCode == 40 ) {
			updown = ( updown < length ) ? ++updown : updown;
		}
		if( updown >= 0 && updown <= length ) {
			$(elem.childNodes[updown]).addClass('selected');
			var text = $(elem.childNodes[updown]).find('.name').html();
			$('#search').find('[name=search]').first().val(text);
		}
	}
	return false;
}
var updown = -1;
$(document).ready(function(){
	$('[name=search]').keyup(function(ev){
		doquick_search(ev, this.value);
	}).focus(function(ev){
		doquick_search(ev, this.value);
	}).keydown(function(ev){
		upDownEvent( ev );
	}).blur(function(){
		window.setTimeout("$('#ajax_search_results').remove();updown=0;", 15000);
	});
	$(document).bind('keydown', function(ev) {
		try {
			if( ev.keyCode == 13 && $('.selected').length > 0 ) {
				if($('.selected').find('a').first().attr('href')){
					document.location.href = $('.selected').find('a').first().attr('href');
				}
			}
		}
		catch(e) {}
	});
	
	/*邮箱验证需要用到的代码*/
	/*//手机
	$("#rd1").click(function(){
	
		$("#emailDiv").hide();	
		$("#parityDiv").show();		
	});
	
	//QQ
	$("#rd4").click(function(){
	
		$("#emailDiv").hide();	
		$("#parityDiv").show();	
	});
	
	//选择邮箱单选按钮
	$("#rd11").click(function(){
	
		$("#emailDiv").show();		
		$("#parityDiv").hide();
	});*/
	
	
});
</script>
<!--
OpenCart is open source software and you are free to remove the powered by OpenCart if you want, but its generally accepted practise to make a small donation.
Please donate via PayPal to donate@opencart.com
//-->
<div id="cboxOverlay" style="display: none;"></div>

<script type="text/javascript" src="./js/clickRegister.js"></script>
</body></html>